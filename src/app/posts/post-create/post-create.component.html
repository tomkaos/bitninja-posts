<form [formGroup]="postForm" (ngSubmit)="onSubmit()">
  <h1>Create a new post</h1>
  <hr>
  <div class="form-group">
    <label>Post Title: </label>
    <div class="input-group">
      <input
        required
        class="form-control"
        [ngClass]="{ 'is-invalid': showErrors('title') }"
        formControlName="title">
      <ng-container *ngIf="showErrors('title')">
        <div
          class="invalid-feedback"
          *ngIf="postForm.controls.title.errors.required"
        >Please fill in this field</div>
      </ng-container>
    </div>
  </div>
  <div class="form-group">
    <label>Post Content: </label>
    <div class="input-group">
      <textarea
        required
        class="form-control"
        [ngClass]="{ 'is-invalid': showErrors('body') }"
        rows="6"
        formControlName="body">
    </textarea>
      <ng-container *ngIf="showErrors('body')">
        <div
          class="invalid-feedback"
          *ngIf="postForm.controls.body.errors.required"
        >Please fill in this field</div>
      </ng-container>
    </div>
  </div>
  <button
    class="btn btn-primary"
    type="submit"
    [disabled]="loading || postForm.invalid">
      <ng-container *ngIf="loading">
        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
        ></span>
        Loading...
      </ng-container>
      <span *ngIf="!loading">Submit</span>
  </button>
</form>
